<!DOCTYPE html>
<html>
<head>
    <title>Diabetes in Australia</title>
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

    <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css"
    integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="css/styles.css" media="all">
</head>

<body>
    <div class="page">
        <div class="header">
            <h1>Diabetes in Australia</h1>
            <p>
                Diabetes is one of the most common chronic health conditions in Australia.<br>
                It affects people across all ages and regions, leading to significant health and social impacts nationwide.
            </p>
        </div>

        <div class="pure-g">
            <div class="pure-u-1">
                <section class="card">
                    <h2>Cases by State</h2>
                    <p class="caption">  
                        This map shows how diabetes prevalence differs across Australian states. Darker shades representing higher proportions of affected residents, 
                        <br> showing that <span style="color: #4c78a8; font-weight: 700;">South Australia</span> has the highest prevalence rate 
                        and <span style="color: #53a24a; font-weight: 700;">Australian Capital Territory</span> has the lowest prevalence rate.
                    </p>
                    <p class="note">* Click on a <b>state</b> to highlight it</p>
                    <div id="choropleth" class="vis-container"></div>
                </section>
            </div>
        </div>

        <div class="pure-g">
            <div class="pure-u-1-2 pure-u-md-1-2">
                <section class="card">
                    <h2>Change Over Time</h2>
                    <p class="caption">
                        Tracks how diabetes prevalence shifted across states over time from 2007 until 2022. 
                        The steady increase across all regions highlights the rising burden of diabetes, with some states growing faster than others.

                    </p>
                    <p class="note">* Click on <b>colored area</b> or <b>legend item</b> to highlight specific states</p>
                    <div id="streamgraph" class="vis-container"></div>
                </section>
            </div>

            <div class="pure-u-1-2 pure-u-md-1-2">
                <section class="card">
                    <h2>Cases by Age Group & Sex</h2>
                    <p class="caption">
                        Compares diabetes cases between <span style="color:#305483; font-weight: 700;">males</span> and <span style="color: #cd2c23; font-weight: 700;">females</span> across different age groups, illustrating which demographics has the highest risk.
                        The data shows a sharp rise in cases among middle-aged and older adults, particularly between 55 until 74 years, where both sexes experience the highest burden. 
                    </p>
                    <p class="note">* Click on a <b>bar</b> to highlight the selected sex across all age groups</p>
                    <div id="groupBar" class="vis-container"></div>
                </section>
            </div>
        </div>

         <div class="pure-g">
            <div class="pure-u-1">
                <section class="card">
                    <h2>Lifestyle Risk Factors</h2>
                    <p class="caption">
                        Explores how lifestyle factors, such as alcohol consumption, daily smoking, physical inactivity, and obesity, vary by states.
                        <br>It emphasises that physical inactivity and obesity remain the most prevalent risk factors nationwide, contributing significantly to diabetes incidence. 
                    </p>
                    <p class="note">* Click <b>legend labels</b> or <b>dot points</b> to highlight specific regions</p>
                    <div id="line" class="vis-container"></div>
                </section>
            </div>
        </div>

        <div class="pure-g">
            <div class="pure-u-1">
                <section class="card">
                    <h2>Complications by Diabetes Types</h2>
                    <p class="caption">
                        Shows the relationship between Type 1 and Type 2 diabetes complications, including <span style="color: #53af91; font-weight: 700;">circulatory</span>, <span style="color: #dd7d45; font-weight: 700;">kidney</span>, and <span style="color: #8c8ac1; font-weight: 700;">eye</span> conditions.
                        <br>Larger bubbles indicate higher total case numbers, while color represents different complication categories. 
                        <br>It highlights that Type 2 diabetes is more strongly associated with severe complications such as <span style="color: #dd7d45; font-weight: 700;">kidney</span> disease.
                    </p>
                    <p class="note">* Use the <b>dropdown menus</b> below to filter by complication type, age group, or sex</p>
                    <div id="bubble" class="vis-container"></div>
                </section>
            </div>
        </div>

    <script type="text/javascript">
        var choropleth = "./choropleth.json";
        var groupBar = "./group_bar.json";
        var streamgraph = "./streamgraph.json"
        var line = "./line_chart.json"
        // var isotype = "./isotype.json"
        var bubble = "./bubble.json"

        vegaEmbed('#choropleth', choropleth, { "actions": false }).then(function (result) {
        // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        }).catch(console.error);


        vegaEmbed('#groupBar', groupBar, { "actions": false }).then(function (result) {
        // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        }).catch(console.error);

        vegaEmbed('#streamgraph', streamgraph, { "actions": false }).then(function (result) {
        // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        }).catch(console.error);

        vegaEmbed('#line', line, { "actions": false }).then(function (result) {
        // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        }).catch(console.error);

        vegaEmbed('#bubble', bubble, { "actions": false, renderer:'svg' }).then(function (result) {
        // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        }).catch(console.error);


    </script>
</body>

</html>

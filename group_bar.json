{
  "$schema": "https://vega.github.io/schema/vega-lite/v6.json",
  "width": 400,
    "height": 350,
    "background": "#e8f1fa",
    "data": {
    "url": "https://raw.githubusercontent.com/christyevelyn/FIT3179/f8815a1ed74b497f3525a8ea033405d8ea074ff7/AIHW-CVD-96-Diabetes-facts-data-tables-12122024.csv",
    "format": {"type": "csv"}
    },
    "transform": [
    {
        "calculate": "toNumber(replace(datum.Cases, /[, ]/g, ''))",
        "as": "CasesNum"
    }
    ],
    "layer": [
    {
        "mark": "bar",
        "params": [
            {"name":"filterSel",
            "select":{
            "type":"point",
            "fields":["Sex", "Age Group"]
            }}
        ],
        "encoding": {
        "opacity": {
            "condition":{
                "param":"filterSel",
                "value":1
            }, 
            "value":0.10},
        "x": {
            "field": "Age group",
            "type": "ordinal",
            "axis": {
                "title": "Age Group",
                "titlePadding": 15
            },
            "sort": [
            "0-4",
            "5-9",
            "10-14",
            "15-19",
            "20-24",
            "25-29",
            "30-34",
            "35-39",
            "40-44",
            "45-49",
            "50-54",
            "55-59",
            "60-64",
            "65-69",
            "70-74",
            "75-79",
            "80-84",
            "More than 85"
            ]
        },
        "y": {
            "field": "Cases",
            "type": "quantitative",
            "title": "Number of Cases"
        },
        "color": {
            "field": "Sex",
            "type": "nominal",
            "title": "Sex",
            "scale": {"range": ["#305483", "#cd2c23"]},
            "sort": ["Males", "Females"]
        },
        "xOffset": {"field": "Sex", "sort": ["Males", "Females"]},
        "tooltip": [
            {"field": "Age group", "title": "Age Group"},
            {"field": "Sex", "title": "Sex"},
            {
            "field": "Cases",
            "type": "quantitative",
            "title": "Number of cases"
            }
        ]
        }
    }
  ]
}